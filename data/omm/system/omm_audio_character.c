#define OMM_ALL_HEADERS
#include "data/omm/omm_includes.h"
#undef OMM_ALL_HEADERS
#include "data/omm/system/omm_audio_character_sound.h"

typedef struct {
    s32 character_sound;
    s32 type;
    union {
        s32 id_n64;
        s32 id_omm;
        const char **id_r96; // Due to R96_XXX sounds being declared as (const char *) and not (const char []), they are not recognized as constant values
    };
} OmmCharacterSound;

#define SOUND_ID(x)     (((x) & 0xFFFF0000) >> SOUNDARGS_SHIFT_SOUNDID)
#define SOUND_PRIO(x)   (((x) & SOUNDARGS_MASK_PRIORITY) >> SOUNDARGS_SHIFT_PRIORITY)

#define SOUND_TYPE_NUL  (0)
#define SOUND_TYPE_N64  (1)
#define SOUND_TYPE_OMM  (2)
#define SOUND_TYPE_R96  (3)

#define SOUND_END       { .character_sound = 0, .type = SOUND_TYPE_NUL }
#define SOUND_N64(s, x) { .character_sound = s, .type = SOUND_TYPE_N64, .id_n64 = (x) }
#define SOUND_OMM(s, x) { .character_sound = s, .type = SOUND_TYPE_OMM, .id_omm = (x) }
#define SOUND_R96(s, x) { .character_sound = s, .type = SOUND_TYPE_R96, .id_r96 = &x  }

static const OmmCharacterSound OMM_CHARACTER_SOUNDS_MARIO_N64[] = {
    SOUND_N64(CHARACTER_SOUND_YAH, SOUND_MARIO_YAH_WAH_HOO + 0x00000),
    SOUND_N64(CHARACTER_SOUND_WAH, SOUND_MARIO_YAH_WAH_HOO + 0x10000),
    SOUND_N64(CHARACTER_SOUND_HOO, SOUND_MARIO_YAH_WAH_HOO + 0x20000),
    SOUND_N64(CHARACTER_SOUND_PUNCH_YAH, SOUND_MARIO_PUNCH_YAH),
    SOUND_N64(CHARACTER_SOUND_PUNCH_WAH, SOUND_MARIO_PUNCH_WAH),
    SOUND_N64(CHARACTER_SOUND_PUNCH_HOO, SOUND_MARIO_PUNCH_HOO),
    SOUND_N64(CHARACTER_SOUND_HOOHOO, SOUND_MARIO_HOOHOO),
    SOUND_N64(CHARACTER_SOUND_YAHOO, SOUND_MARIO_YAHOO),
    SOUND_N64(CHARACTER_SOUND_YAHOO_2, SOUND_MARIO_YAHOO_WAHA_YIPPEE + 0x00000),
    SOUND_N64(CHARACTER_SOUND_YAHOO_3, SOUND_MARIO_YAHOO_WAHA_YIPPEE + 0x10000),
    SOUND_N64(CHARACTER_SOUND_YAHOO_4, SOUND_MARIO_YAHOO_WAHA_YIPPEE + 0x20000),
    SOUND_N64(CHARACTER_SOUND_WAHA, SOUND_MARIO_YAHOO_WAHA_YIPPEE + 0x30000),
    SOUND_N64(CHARACTER_SOUND_YIPPEE, SOUND_MARIO_YAHOO_WAHA_YIPPEE + 0x40000),
    SOUND_N64(CHARACTER_SOUND_HAHA, SOUND_MARIO_HAHA),
    SOUND_N64(CHARACTER_SOUND_HAHA_2, SOUND_MARIO_HAHA_2),
    SOUND_N64(CHARACTER_SOUND_UH, SOUND_MARIO_UH),
    SOUND_N64(CHARACTER_SOUND_UH2, SOUND_MARIO_UH2),
    SOUND_N64(CHARACTER_SOUND_UH2_2, SOUND_MARIO_UH2_2),
    SOUND_N64(CHARACTER_SOUND_HRMM, SOUND_MARIO_HRMM),
    SOUND_N64(CHARACTER_SOUND_THROW_WAH, SOUND_MARIO_WAH2),
    SOUND_N64(CHARACTER_SOUND_GROUND_POUND_WAH, SOUND_MARIO_GROUND_POUND_WAH),
    SOUND_N64(CHARACTER_SOUND_WHOA, SOUND_MARIO_WHOA),
    SOUND_N64(CHARACTER_SOUND_EEUH, SOUND_MARIO_EEUH),
    SOUND_N64(CHARACTER_SOUND_ATTACKED, SOUND_MARIO_ATTACKED),
    SOUND_N64(CHARACTER_SOUND_OOOF, SOUND_MARIO_OOOF),
    SOUND_N64(CHARACTER_SOUND_OOOF_2, SOUND_MARIO_OOOF2),
    SOUND_N64(CHARACTER_SOUND_DOH, SOUND_MARIO_DOH),
    SOUND_N64(CHARACTER_SOUND_HERE_WE_GO, SOUND_MARIO_HERE_WE_GO),
    SOUND_N64(CHARACTER_SOUND_YAWNING, SOUND_MARIO_YAWNING),
    SOUND_N64(CHARACTER_SOUND_SNORING_1, SOUND_MARIO_SNORING1),
    SOUND_N64(CHARACTER_SOUND_SNORING_2, SOUND_MARIO_SNORING2),
    SOUND_N64(CHARACTER_SOUND_SNORING_3, SOUND_MARIO_SNORING3),
    SOUND_N64(CHARACTER_SOUND_PANTING_1, SOUND_MARIO_PANTING + 0x00000),
    SOUND_N64(CHARACTER_SOUND_PANTING_2, SOUND_MARIO_PANTING + 0x10000),
    SOUND_N64(CHARACTER_SOUND_PANTING_3, SOUND_MARIO_PANTING + 0x20000),
    SOUND_N64(CHARACTER_SOUND_PANTING_COLD, SOUND_MARIO_PANTING_COLD),
    SOUND_N64(CHARACTER_SOUND_COUGHING_1, SOUND_MARIO_COUGHING1),
    SOUND_N64(CHARACTER_SOUND_COUGHING_2, SOUND_MARIO_COUGHING2),
    SOUND_N64(CHARACTER_SOUND_COUGHING_3, SOUND_MARIO_COUGHING3),
    SOUND_N64(CHARACTER_SOUND_WAAAOOOW, SOUND_MARIO_WAAAOOOW),
    SOUND_N64(CHARACTER_SOUND_ON_FIRE, SOUND_MARIO_ON_FIRE),
    SOUND_N64(CHARACTER_SOUND_DYING, SOUND_MARIO_DYING),
    SOUND_N64(CHARACTER_SOUND_DROWNING, SOUND_MARIO_DROWNING),
    SOUND_N64(CHARACTER_SOUND_MAMA_MIA, SOUND_MARIO_MAMA_MIA),
    SOUND_N64(CHARACTER_SOUND_TWIRL_BOUNCE, SOUND_MARIO_TWIRL_BOUNCE),
    SOUND_N64(CHARACTER_SOUND_SO_LONGA_BOWSER, SOUND_MARIO_SO_LONGA_BOWSER),
    SOUND_N64(CHARACTER_SOUND_IMA_TIRED, SOUND_MARIO_IMA_TIRED),
    SOUND_N64(CHARACTER_SOUND_STAR_LETS_A_GO, SOUND_MENU_STAR_SOUND_LETS_A_GO),
    SOUND_N64(CHARACTER_SOUND_OKEY_DOKEY, SOUND_MARIO_OKEY_DOKEY),
    SOUND_N64(CHARACTER_SOUND_GAME_OVER, SOUND_MARIO_GAME_OVER),
    SOUND_N64(CHARACTER_SOUND_HELLO, SOUND_MARIO_HELLO),
    SOUND_N64(CHARACTER_SOUND_PRESS_START_TO_PLAY, SOUND_MARIO_PRESS_START_TO_PLAY),
    SOUND_N64(CHARACTER_SOUND_THANK_YOU_PLAYING_MY_GAME, SOUND_MENU_THANK_YOU_PLAYING_MY_GAME),
    SOUND_N64(CHARACTER_SOUND_STAR_OKEY_DOKEY, SOUND_MENU_STAR_SOUND_OKEY_DOKEY),
    SOUND_N64(CHARACTER_SOUND_PEACH_MARIO, SOUND_PEACH_MARIO),
    SOUND_N64(CHARACTER_SOUND_PEACH_POWER_OF_THE_STARS, SOUND_PEACH_POWER_OF_THE_STARS),
    SOUND_N64(CHARACTER_SOUND_PEACH_THANKS_TO_YOU, SOUND_PEACH_THANKS_TO_YOU),
    SOUND_N64(CHARACTER_SOUND_PEACH_THANK_YOU_MARIO, SOUND_PEACH_THANK_YOU_MARIO),
    SOUND_N64(CHARACTER_SOUND_PEACH_SOMETHING_SPECIAL, SOUND_PEACH_SOMETHING_SPECIAL),
    SOUND_N64(CHARACTER_SOUND_PEACH_BAKE_A_CAKE, SOUND_PEACH_BAKE_A_CAKE),
    SOUND_N64(CHARACTER_SOUND_PEACH_FOR_MARIO, SOUND_PEACH_FOR_MARIO),
    SOUND_N64(CHARACTER_SOUND_PEACH_MARIO_2, SOUND_PEACH_MARIO2),
    SOUND_OMM(CHARACTER_SOUND_OMM_DEATH, OMM_SOUND_EVENT_DEATH_MARIO),
    SOUND_OMM(CHARACTER_SOUND_OMM_DEATH_WATER, OMM_SOUND_EVENT_DEATH_MARIO_WATER),
    SOUND_OMM(CHARACTER_SOUND_OMM_DEATH_FALL, OMM_SOUND_EVENT_DEATH_MARIO_FALL),
    SOUND_N64(CHARACTER_SOUND_OMM_VIBE_JOY, 0xFF00 | (SOUND_MARIO_YAHOO_WAHA_YIPPEE + 0x40000)),
    SOUND_N64(CHARACTER_SOUND_OMM_VIBE_RAGE, 0xFF00 | (SOUND_MARIO_HERE_WE_GO)),
    SOUND_N64(CHARACTER_SOUND_OMM_VIBE_GLOOM, 0xFF00 | (SOUND_MARIO_MAMA_MIA)),
    SOUND_N64(CHARACTER_SOUND_OMM_VIBE_CALM, 0xFF00 | (SOUND_MARIO_OKEY_DOKEY)),
    SOUND_END,
};

static const OmmCharacterSound OMM_CHARACTER_SOUNDS_PEACH_OMM[] = {
    SOUND_OMM(CHARACTER_SOUND_YAH, OMM_SOUND_PEACH_JUMP_YAH),
    SOUND_OMM(CHARACTER_SOUND_WAH, OMM_SOUND_PEACH_JUMP_WAH),
    SOUND_OMM(CHARACTER_SOUND_HOO, OMM_SOUND_PEACH_JUMP_HOO),
    SOUND_OMM(CHARACTER_SOUND_PUNCH_YAH, OMM_SOUND_PEACH_PUNCH_YAH),
    SOUND_OMM(CHARACTER_SOUND_PUNCH_WAH, OMM_SOUND_PEACH_PUNCH_WAH),
    SOUND_OMM(CHARACTER_SOUND_PUNCH_HOO, OMM_SOUND_PEACH_PUNCH_HOO),
    SOUND_OMM(CHARACTER_SOUND_HOOHOO, OMM_SOUND_PEACH_DIVE_HOOHOO),
    SOUND_OMM(CHARACTER_SOUND_YAHOO, OMM_SOUND_PEACH_JUMP_YAHOO),
    SOUND_OMM(CHARACTER_SOUND_YAHOO_2, OMM_SOUND_PEACH_JUMP_YAHOO_2),
    SOUND_OMM(CHARACTER_SOUND_YAHOO_3, OMM_SOUND_PEACH_JUMP_YAHOO_2),
    SOUND_OMM(CHARACTER_SOUND_YAHOO_4, OMM_SOUND_PEACH_JUMP_YAHOO_2),
    SOUND_OMM(CHARACTER_SOUND_WAHA, OMM_SOUND_PEACH_JUMP_WAHA),
    SOUND_OMM(CHARACTER_SOUND_YIPPEE, OMM_SOUND_PEACH_JUMP_YIPPEE),
    SOUND_OMM(CHARACTER_SOUND_HAHA, OMM_SOUND_PEACH_LAND_HAHA),
    SOUND_OMM(CHARACTER_SOUND_HAHA_2, OMM_SOUND_PEACH_LAND_HAHA_2),
    SOUND_OMM(CHARACTER_SOUND_UH, OMM_SOUND_PEACH_LEDGE_MISS_UH),
    SOUND_OMM(CHARACTER_SOUND_UH2, OMM_SOUND_PEACH_LEDGE_CLIMB_UH2),
    SOUND_OMM(CHARACTER_SOUND_UH2_2, OMM_SOUND_PEACH_LEDGE_CLIMB_UH2_2),
    SOUND_OMM(CHARACTER_SOUND_HRMM, OMM_SOUND_PEACH_GRAB_HRMM),
    SOUND_OMM(CHARACTER_SOUND_THROW_WAH, OMM_SOUND_PEACH_THROW_WAH2),
    SOUND_OMM(CHARACTER_SOUND_GROUND_POUND_WAH, OMM_SOUND_PEACH_GROUND_POUND_WAH),
    SOUND_OMM(CHARACTER_SOUND_WHOA, OMM_SOUND_PEACH_LEDGE_GRAB_WHOA),
    SOUND_OMM(CHARACTER_SOUND_EEUH, OMM_SOUND_PEACH_LEDGE_CLIMB_EEUH),
    SOUND_OMM(CHARACTER_SOUND_ATTACKED, OMM_SOUND_PEACH_ATTACKED),
    SOUND_OMM(CHARACTER_SOUND_OOOF, OMM_SOUND_PEACH_BONK_OOOF),
    SOUND_OMM(CHARACTER_SOUND_OOOF_2, OMM_SOUND_PEACH_BONK_OOOF_2),
    SOUND_OMM(CHARACTER_SOUND_DOH, OMM_SOUND_PEACH_BONK_DOH),
    SOUND_OMM(CHARACTER_SOUND_HERE_WE_GO, OMM_SOUND_PEACH_HERE_WE_GO),
    SOUND_OMM(CHARACTER_SOUND_YAWNING, OMM_SOUND_PEACH_YAWNING),
    SOUND_OMM(CHARACTER_SOUND_PANTING_1, OMM_SOUND_PEACH_PANTING1),
    SOUND_OMM(CHARACTER_SOUND_PANTING_2, OMM_SOUND_PEACH_PANTING2),
    SOUND_OMM(CHARACTER_SOUND_PANTING_3, OMM_SOUND_PEACH_PANTING3),
    SOUND_OMM(CHARACTER_SOUND_COUGHING_1, OMM_SOUND_PEACH_COUGHING1),
    SOUND_OMM(CHARACTER_SOUND_COUGHING_2, OMM_SOUND_PEACH_COUGHING2),
    SOUND_OMM(CHARACTER_SOUND_COUGHING_3, OMM_SOUND_PEACH_COUGHING3),
    SOUND_OMM(CHARACTER_SOUND_WAAAOOOW, OMM_SOUND_PEACH_FALLING_WAAAOOOW),
    SOUND_OMM(CHARACTER_SOUND_ON_FIRE, OMM_SOUND_PEACH_ON_FIRE),
    SOUND_OMM(CHARACTER_SOUND_DYING, OMM_SOUND_PEACH_DYING),
    SOUND_OMM(CHARACTER_SOUND_DROWNING, OMM_SOUND_PEACH_DROWNING),
    SOUND_OMM(CHARACTER_SOUND_MAMA_MIA, OMM_SOUND_PEACH_MAMA_MIA),
    SOUND_OMM(CHARACTER_SOUND_TWIRL_BOUNCE, OMM_SOUND_PEACH_TWIRL_BOUNCE),
    SOUND_OMM(CHARACTER_SOUND_SO_LONGA_BOWSER, OMM_SOUND_PEACH_SO_LONGA_BOWSER),
    SOUND_OMM(CHARACTER_SOUND_STAR_LETS_A_GO, OMM_SOUND_PEACH_LETS_A_GO),
#if OMM_GAME_IS_R96X
    SOUND_R96(CHARACTER_SOUND_OKEY_DOKEY, R96_MARIO_OKEY_DOKEY),
    SOUND_R96(CHARACTER_SOUND_GAME_OVER, R96_MARIO_GAME_OVER),
    SOUND_R96(CHARACTER_SOUND_HELLO, R96_MARIO_HELLO),
    SOUND_R96(CHARACTER_SOUND_PRESS_START_TO_PLAY, R96_MARIO_PRESS_START_TO_PLAY),
    SOUND_R96(CHARACTER_SOUND_THANK_YOU_PLAYING_MY_GAME, R96_MARIO_THANK_YOU_PLAYING_MY_GAME),
    SOUND_R96(CHARACTER_SOUND_STAR_OKEY_DOKEY, R96_MARIO_OKEY_DOKEY),
    SOUND_R96(CHARACTER_SOUND_PEACH_MARIO, R96_MARIO_PEACH_MARIO),
    SOUND_R96(CHARACTER_SOUND_PEACH_POWER_OF_THE_STARS, R96_MARIO_PEACH_POWER_OF_THE_STARS),
    SOUND_R96(CHARACTER_SOUND_PEACH_THANKS_TO_YOU, R96_MARIO_PEACH_THANKS_TO_YOU),
    SOUND_R96(CHARACTER_SOUND_PEACH_THANK_YOU_MARIO, R96_MARIO_PEACH_THANK_YOU_MARIO),
    SOUND_R96(CHARACTER_SOUND_PEACH_SOMETHING_SPECIAL, R96_MARIO_PEACH_SOMETHING_SPECIAL),
    SOUND_R96(CHARACTER_SOUND_PEACH_BAKE_A_CAKE, R96_MARIO_PEACH_BAKE_A_CAKE),
    SOUND_R96(CHARACTER_SOUND_PEACH_FOR_MARIO, R96_MARIO_PEACH_FOR_MARIO),
    SOUND_R96(CHARACTER_SOUND_PEACH_MARIO_2, R96_MARIO_SOUND_PEACH_MARIO2),
#else
    SOUND_N64(CHARACTER_SOUND_OKEY_DOKEY, SOUND_MARIO_OKEY_DOKEY),
    SOUND_N64(CHARACTER_SOUND_GAME_OVER, SOUND_MARIO_GAME_OVER),
    SOUND_N64(CHARACTER_SOUND_HELLO, SOUND_MARIO_HELLO),
    SOUND_N64(CHARACTER_SOUND_PRESS_START_TO_PLAY, SOUND_MARIO_PRESS_START_TO_PLAY),
    SOUND_N64(CHARACTER_SOUND_THANK_YOU_PLAYING_MY_GAME, SOUND_MENU_THANK_YOU_PLAYING_MY_GAME),
    SOUND_N64(CHARACTER_SOUND_STAR_OKEY_DOKEY, SOUND_MENU_STAR_SOUND_OKEY_DOKEY),
    SOUND_N64(CHARACTER_SOUND_PEACH_MARIO, SOUND_PEACH_MARIO),
    SOUND_N64(CHARACTER_SOUND_PEACH_POWER_OF_THE_STARS, SOUND_PEACH_POWER_OF_THE_STARS),
    SOUND_N64(CHARACTER_SOUND_PEACH_THANKS_TO_YOU, SOUND_PEACH_THANKS_TO_YOU),
    SOUND_N64(CHARACTER_SOUND_PEACH_THANK_YOU_MARIO, SOUND_PEACH_THANK_YOU_MARIO),
    SOUND_N64(CHARACTER_SOUND_PEACH_SOMETHING_SPECIAL, SOUND_PEACH_SOMETHING_SPECIAL),
    SOUND_N64(CHARACTER_SOUND_PEACH_BAKE_A_CAKE, SOUND_PEACH_BAKE_A_CAKE),
    SOUND_N64(CHARACTER_SOUND_PEACH_FOR_MARIO, SOUND_PEACH_FOR_MARIO),
    SOUND_N64(CHARACTER_SOUND_PEACH_MARIO_2, SOUND_PEACH_MARIO2),
#endif
    SOUND_OMM(CHARACTER_SOUND_OMM_DEATH, OMM_SOUND_EVENT_DEATH_PEACH),
    SOUND_OMM(CHARACTER_SOUND_OMM_DEATH_WATER, OMM_SOUND_EVENT_DEATH_PEACH_WATER),
    SOUND_OMM(CHARACTER_SOUND_OMM_DEATH_FALL, OMM_SOUND_EVENT_DEATH_PEACH_FALL),
    SOUND_OMM(CHARACTER_SOUND_OMM_VIBE_JOY, OMM_SOUND_PEACH_VIBE_JOY),
    SOUND_OMM(CHARACTER_SOUND_OMM_VIBE_RAGE, OMM_SOUND_PEACH_VIBE_RAGE),
    SOUND_OMM(CHARACTER_SOUND_OMM_VIBE_GLOOM, OMM_SOUND_PEACH_VIBE_GLOOM),
    SOUND_OMM(CHARACTER_SOUND_OMM_VIBE_CALM, OMM_SOUND_PEACH_VIBE_CALM),
    SOUND_END,
};

static const OmmCharacterSound OMM_CHARACTER_SOUNDS_YOSHI_N64[] = {

    // Mario -> Yoshi
    SOUND_N64(CHARACTER_SOUND_YAH, SOUND_OBJ_WIGGLER_JUMP),
    SOUND_N64(CHARACTER_SOUND_WAH, SOUND_OBJ_WIGGLER_JUMP),
    SOUND_N64(CHARACTER_SOUND_HOO, SOUND_OBJ_WIGGLER_JUMP),
    SOUND_N64(CHARACTER_SOUND_HOOHOO, SOUND_OBJ2_SCUTTLEBUG_ALERT),
    SOUND_N64(CHARACTER_SOUND_YAHOO, SOUND_GENERAL_YOSHI_TALK),
    SOUND_N64(CHARACTER_SOUND_YAHOO_2, SOUND_GENERAL_YOSHI_TALK),
    SOUND_N64(CHARACTER_SOUND_YAHOO_3, SOUND_GENERAL_YOSHI_TALK),
    SOUND_N64(CHARACTER_SOUND_YAHOO_4, SOUND_GENERAL_YOSHI_TALK),
    SOUND_N64(CHARACTER_SOUND_WAHA, SOUND_GENERAL_YOSHI_TALK),
    SOUND_N64(CHARACTER_SOUND_YIPPEE, SOUND_GENERAL_YOSHI_TALK),
    SOUND_N64(CHARACTER_SOUND_HERE_WE_GO, SOUND_GENERAL_YOSHI_TALK),
    SOUND_N64(CHARACTER_SOUND_STAR_LETS_A_GO, SOUND_GENERAL_YOSHI_TALK),
    SOUND_N64(CHARACTER_SOUND_STAR_OKEY_DOKEY, SOUND_GENERAL_YOSHI_TALK),

    // Keep Mario's voice
#if OMM_GAME_IS_R96X
    SOUND_R96(CHARACTER_SOUND_ATTACKED, R96_MARIO_ATTACKED),
    SOUND_R96(CHARACTER_SOUND_WAAAOOOW, R96_MARIO_FALLING),
    SOUND_R96(CHARACTER_SOUND_ON_FIRE, R96_MARIO_ON_FIRE),
    SOUND_R96(CHARACTER_SOUND_DYING, R96_MARIO_DYING),
    SOUND_R96(CHARACTER_SOUND_DROWNING, R96_MARIO_DROWNING),
    SOUND_R96(CHARACTER_SOUND_PEACH_MARIO, R96_MARIO_PEACH_MARIO),
    SOUND_R96(CHARACTER_SOUND_PEACH_POWER_OF_THE_STARS, R96_MARIO_PEACH_POWER_OF_THE_STARS),
    SOUND_R96(CHARACTER_SOUND_PEACH_THANKS_TO_YOU, R96_MARIO_PEACH_THANKS_TO_YOU),
    SOUND_R96(CHARACTER_SOUND_PEACH_THANK_YOU_MARIO, R96_MARIO_PEACH_THANK_YOU_MARIO),
    SOUND_R96(CHARACTER_SOUND_PEACH_SOMETHING_SPECIAL, R96_MARIO_PEACH_SOMETHING_SPECIAL),
    SOUND_R96(CHARACTER_SOUND_PEACH_BAKE_A_CAKE, R96_MARIO_PEACH_BAKE_A_CAKE),
    SOUND_R96(CHARACTER_SOUND_PEACH_FOR_MARIO, R96_MARIO_PEACH_FOR_MARIO),
#else
    SOUND_N64(CHARACTER_SOUND_ATTACKED, SOUND_MARIO_ATTACKED),
    SOUND_N64(CHARACTER_SOUND_WAAAOOOW, SOUND_MARIO_WAAAOOOW),
    SOUND_N64(CHARACTER_SOUND_ON_FIRE, SOUND_MARIO_ON_FIRE),
    SOUND_N64(CHARACTER_SOUND_DYING, SOUND_MARIO_DYING),
    SOUND_N64(CHARACTER_SOUND_DROWNING, SOUND_MARIO_DROWNING),
    SOUND_N64(CHARACTER_SOUND_PEACH_MARIO, SOUND_PEACH_MARIO),
    SOUND_N64(CHARACTER_SOUND_PEACH_POWER_OF_THE_STARS, SOUND_PEACH_POWER_OF_THE_STARS),
    SOUND_N64(CHARACTER_SOUND_PEACH_THANKS_TO_YOU, SOUND_PEACH_THANKS_TO_YOU),
    SOUND_N64(CHARACTER_SOUND_PEACH_THANK_YOU_MARIO, SOUND_PEACH_THANK_YOU_MARIO),
    SOUND_N64(CHARACTER_SOUND_PEACH_SOMETHING_SPECIAL, SOUND_PEACH_SOMETHING_SPECIAL),
    SOUND_N64(CHARACTER_SOUND_PEACH_BAKE_A_CAKE, SOUND_PEACH_BAKE_A_CAKE),
    SOUND_N64(CHARACTER_SOUND_PEACH_FOR_MARIO, SOUND_PEACH_FOR_MARIO),
#endif
    SOUND_OMM(CHARACTER_SOUND_OMM_DEATH, OMM_SOUND_EVENT_DEATH_MARIO),
    SOUND_OMM(CHARACTER_SOUND_OMM_DEATH_WATER, OMM_SOUND_EVENT_DEATH_MARIO_WATER),
    SOUND_OMM(CHARACTER_SOUND_OMM_DEATH_FALL, OMM_SOUND_EVENT_DEATH_MARIO_FALL),
    SOUND_END,
};

#if OMM_GAME_IS_R96X
static const OmmCharacterSound OMM_CHARACTER_SOUNDS_MARIO_R96[] = {
    SOUND_R96(CHARACTER_SOUND_YAH, R96_MARIO_YAH),
    SOUND_R96(CHARACTER_SOUND_WAH, R96_MARIO_WAH),
    SOUND_R96(CHARACTER_SOUND_HOO, R96_MARIO_HOO),
    SOUND_R96(CHARACTER_SOUND_PUNCH_YAH, R96_MARIO_PUNCH_YAH),
    SOUND_R96(CHARACTER_SOUND_PUNCH_WAH, R96_MARIO_WAH),
    SOUND_R96(CHARACTER_SOUND_PUNCH_HOO, R96_MARIO_PUNCH_HOO),
    SOUND_R96(CHARACTER_SOUND_HOOHOO, R96_MARIO_HOOHOO),
    SOUND_R96(CHARACTER_SOUND_YAHOO, R96_MARIO_YAHOO),
    SOUND_R96(CHARACTER_SOUND_YAHOO_2, R96_MARIO_YAHOO),
    SOUND_R96(CHARACTER_SOUND_YAHOO_3, R96_MARIO_YAHOO),
    SOUND_R96(CHARACTER_SOUND_YAHOO_4, R96_MARIO_YAHOO),
    SOUND_R96(CHARACTER_SOUND_WAHA, R96_MARIO_WAHA),
    SOUND_R96(CHARACTER_SOUND_YIPPEE, R96_MARIO_YIPPEE),
    SOUND_R96(CHARACTER_SOUND_HAHA, R96_MARIO_HAHA),
    SOUND_R96(CHARACTER_SOUND_HAHA_2, R96_MARIO_HAHA),
    SOUND_R96(CHARACTER_SOUND_UH, R96_MARIO_GRUNT),
    SOUND_R96(CHARACTER_SOUND_UH2, R96_MARIO_GRUNT_2),
    SOUND_R96(CHARACTER_SOUND_UH2_2, R96_MARIO_GRUNT_2),
    SOUND_R96(CHARACTER_SOUND_HRMM, R96_MARIO_LIFT),
    SOUND_R96(CHARACTER_SOUND_THROW_WAH, R96_MARIO_THROW),
    SOUND_R96(CHARACTER_SOUND_GROUND_POUND_WAH, R96_MARIO_THROW),
    SOUND_R96(CHARACTER_SOUND_WHOA, R96_MARIO_WHOA),
    SOUND_R96(CHARACTER_SOUND_EEUH, R96_MARIO_PULL_UP),
    SOUND_R96(CHARACTER_SOUND_ATTACKED, R96_MARIO_ATTACKED),
    SOUND_R96(CHARACTER_SOUND_OOOF, R96_MARIO_OOOF),
    SOUND_R96(CHARACTER_SOUND_OOOF_2, R96_MARIO_OOOF),
    SOUND_R96(CHARACTER_SOUND_DOH, R96_MARIO_DOH),
    SOUND_R96(CHARACTER_SOUND_HERE_WE_GO, R96_MARIO_HERE_WE_GO),
    SOUND_R96(CHARACTER_SOUND_YAWNING, R96_MARIO_YAWNING),
    SOUND_R96(CHARACTER_SOUND_SNORING_1, R96_MARIO_SNORING_1),
    SOUND_R96(CHARACTER_SOUND_SNORING_2, R96_MARIO_SNORING_2),
    SOUND_R96(CHARACTER_SOUND_SNORING_3, R96_MARIO_SNORING_3),
    SOUND_R96(CHARACTER_SOUND_PANTING_1, R96_MARIO_PANTING),
    SOUND_R96(CHARACTER_SOUND_PANTING_2, R96_MARIO_PANTING),
    SOUND_R96(CHARACTER_SOUND_PANTING_3, R96_MARIO_PANTING),
    SOUND_R96(CHARACTER_SOUND_PANTING_COLD, R96_MARIO_PANTING_COLD),
    SOUND_R96(CHARACTER_SOUND_COUGHING_1, R96_MARIO_COUGHING_1),
    SOUND_R96(CHARACTER_SOUND_COUGHING_2, R96_MARIO_COUGHING_1),
    SOUND_R96(CHARACTER_SOUND_COUGHING_3, R96_MARIO_COUGHING_1),
    SOUND_R96(CHARACTER_SOUND_WAAAOOOW, R96_MARIO_FALLING),
    SOUND_R96(CHARACTER_SOUND_ON_FIRE, R96_MARIO_ON_FIRE),
    SOUND_R96(CHARACTER_SOUND_DYING, R96_MARIO_DYING),
    SOUND_R96(CHARACTER_SOUND_DROWNING, R96_MARIO_DROWNING),
    SOUND_R96(CHARACTER_SOUND_MAMA_MIA, R96_MARIO_MAMA_MIA),
    SOUND_R96(CHARACTER_SOUND_TWIRL_BOUNCE, R96_MARIO_TWIRL_BOUNCE),
    SOUND_R96(CHARACTER_SOUND_SO_LONGA_BOWSER, R96_MARIO_SO_LONGA_BOWSER),
    SOUND_R96(CHARACTER_SOUND_IMA_TIRED, R96_MARIO_IMA_TIRED),
    SOUND_R96(CHARACTER_SOUND_STAR_LETS_A_GO, R96_MARIO_SOUND_LETS_A_GO),
    SOUND_R96(CHARACTER_SOUND_OKEY_DOKEY, R96_MARIO_OKEY_DOKEY),
    SOUND_R96(CHARACTER_SOUND_GAME_OVER, R96_MARIO_GAME_OVER),
    SOUND_R96(CHARACTER_SOUND_HELLO, R96_MARIO_HELLO),
    SOUND_R96(CHARACTER_SOUND_PRESS_START_TO_PLAY, R96_MARIO_PRESS_START_TO_PLAY),
    SOUND_R96(CHARACTER_SOUND_THANK_YOU_PLAYING_MY_GAME, R96_MARIO_THANK_YOU_PLAYING_MY_GAME),
    SOUND_R96(CHARACTER_SOUND_STAR_OKEY_DOKEY, R96_MARIO_OKEY_DOKEY),
    SOUND_R96(CHARACTER_SOUND_PEACH_MARIO, R96_MARIO_PEACH_MARIO),
    SOUND_R96(CHARACTER_SOUND_PEACH_POWER_OF_THE_STARS, R96_MARIO_PEACH_POWER_OF_THE_STARS),
    SOUND_R96(CHARACTER_SOUND_PEACH_THANKS_TO_YOU, R96_MARIO_PEACH_THANKS_TO_YOU),
    SOUND_R96(CHARACTER_SOUND_PEACH_THANK_YOU_MARIO, R96_MARIO_PEACH_THANK_YOU_MARIO),
    SOUND_R96(CHARACTER_SOUND_PEACH_SOMETHING_SPECIAL, R96_MARIO_PEACH_SOMETHING_SPECIAL),
    SOUND_R96(CHARACTER_SOUND_PEACH_BAKE_A_CAKE, R96_MARIO_PEACH_BAKE_A_CAKE),
    SOUND_R96(CHARACTER_SOUND_PEACH_FOR_MARIO, R96_MARIO_PEACH_FOR_MARIO),
    SOUND_R96(CHARACTER_SOUND_PEACH_MARIO_2, R96_MARIO_SOUND_PEACH_MARIO2),
    SOUND_OMM(CHARACTER_SOUND_OMM_DEATH, OMM_SOUND_EVENT_DEATH_MARIO),
    SOUND_OMM(CHARACTER_SOUND_OMM_DEATH_WATER, OMM_SOUND_EVENT_DEATH_MARIO_WATER),
    SOUND_OMM(CHARACTER_SOUND_OMM_DEATH_FALL, OMM_SOUND_EVENT_DEATH_MARIO_FALL),
    SOUND_N64(CHARACTER_SOUND_OMM_VIBE_JOY, 0xFF00 | (SOUND_MARIO_YAHOO_WAHA_YIPPEE + 0x40000)),
    SOUND_N64(CHARACTER_SOUND_OMM_VIBE_RAGE, 0xFF00 | (SOUND_MARIO_HERE_WE_GO)),
    SOUND_N64(CHARACTER_SOUND_OMM_VIBE_GLOOM, 0xFF00 | (SOUND_MARIO_MAMA_MIA)),
    SOUND_N64(CHARACTER_SOUND_OMM_VIBE_CALM, 0xFF00 | (SOUND_MARIO_OKEY_DOKEY)),
    SOUND_END,
};

static const OmmCharacterSound OMM_CHARACTER_SOUNDS_LUIGI_R96[] = {
    SOUND_R96(CHARACTER_SOUND_YAH, R96_LUIGI_YAH),
    SOUND_R96(CHARACTER_SOUND_WAH, R96_LUIGI_WAH),
    SOUND_R96(CHARACTER_SOUND_HOO, R96_LUIGI_HOO),
    SOUND_R96(CHARACTER_SOUND_PUNCH_YAH, R96_LUIGI_PUNCH_YAH),
    SOUND_R96(CHARACTER_SOUND_PUNCH_WAH, R96_LUIGI_WAH),
    SOUND_R96(CHARACTER_SOUND_PUNCH_HOO, R96_LUIGI_PUNCH_HOO),
    SOUND_R96(CHARACTER_SOUND_HOOHOO, R96_LUIGI_HOOHOO),
    SOUND_R96(CHARACTER_SOUND_YAHOO, R96_LUIGI_YAHOO),
    SOUND_R96(CHARACTER_SOUND_YAHOO_2, R96_LUIGI_YAHOO),
    SOUND_R96(CHARACTER_SOUND_YAHOO_3, R96_LUIGI_YAHOO),
    SOUND_R96(CHARACTER_SOUND_YAHOO_4, R96_LUIGI_YAHOO),
    SOUND_R96(CHARACTER_SOUND_WAHA, R96_LUIGI_WAHA),
    SOUND_R96(CHARACTER_SOUND_YIPPEE, R96_LUIGI_YIPPEE),
    SOUND_R96(CHARACTER_SOUND_HAHA, R96_LUIGI_HAHA),
    SOUND_R96(CHARACTER_SOUND_HAHA_2, R96_LUIGI_HAHA),
    SOUND_R96(CHARACTER_SOUND_UH, R96_LUIGI_GRUNT),
    SOUND_R96(CHARACTER_SOUND_UH2, R96_LUIGI_GRUNT_2),
    SOUND_R96(CHARACTER_SOUND_UH2_2, R96_LUIGI_GRUNT_2),
    SOUND_R96(CHARACTER_SOUND_HRMM, R96_LUIGI_LIFT),
    SOUND_R96(CHARACTER_SOUND_THROW_WAH, R96_LUIGI_THROW),
    SOUND_R96(CHARACTER_SOUND_GROUND_POUND_WAH, R96_LUIGI_THROW),
    SOUND_R96(CHARACTER_SOUND_WHOA, R96_LUIGI_WHOA),
    SOUND_R96(CHARACTER_SOUND_EEUH, R96_LUIGI_PULL_UP),
    SOUND_R96(CHARACTER_SOUND_ATTACKED, R96_LUIGI_ATTACKED),
    SOUND_R96(CHARACTER_SOUND_OOOF, R96_LUIGI_OOOF),
    SOUND_R96(CHARACTER_SOUND_OOOF_2, R96_LUIGI_OOOF),
    SOUND_R96(CHARACTER_SOUND_DOH, R96_LUIGI_DOH),
    SOUND_R96(CHARACTER_SOUND_HERE_WE_GO, R96_LUIGI_HERE_WE_GO),
    SOUND_R96(CHARACTER_SOUND_YAWNING, R96_LUIGI_YAWNING),
    SOUND_R96(CHARACTER_SOUND_SNORING_1, R96_LUIGI_SNORING_1),
    SOUND_R96(CHARACTER_SOUND_SNORING_2, R96_LUIGI_SNORING_2),
    SOUND_R96(CHARACTER_SOUND_SNORING_3, R96_LUIGI_SNORING_3),
    SOUND_R96(CHARACTER_SOUND_PANTING_1, R96_LUIGI_PANTING),
    SOUND_R96(CHARACTER_SOUND_PANTING_2, R96_LUIGI_PANTING),
    SOUND_R96(CHARACTER_SOUND_PANTING_3, R96_LUIGI_PANTING),
    SOUND_R96(CHARACTER_SOUND_PANTING_COLD, R96_LUIGI_PANTING_COLD),
    SOUND_R96(CHARACTER_SOUND_COUGHING_1, R96_LUIGI_COUGHING_1),
    SOUND_R96(CHARACTER_SOUND_COUGHING_2, R96_LUIGI_COUGHING_1),
    SOUND_R96(CHARACTER_SOUND_COUGHING_3, R96_LUIGI_COUGHING_1),
    SOUND_R96(CHARACTER_SOUND_WAAAOOOW, R96_LUIGI_FALLING),
    SOUND_R96(CHARACTER_SOUND_ON_FIRE, R96_LUIGI_ON_FIRE),
    SOUND_R96(CHARACTER_SOUND_DYING, R96_LUIGI_DYING),
    SOUND_R96(CHARACTER_SOUND_DROWNING, R96_LUIGI_DROWNING),
    SOUND_R96(CHARACTER_SOUND_MAMA_MIA, R96_LUIGI_MAMA_MIA),
    SOUND_R96(CHARACTER_SOUND_TWIRL_BOUNCE, R96_LUIGI_TWIRL_BOUNCE),
    SOUND_R96(CHARACTER_SOUND_SO_LONGA_BOWSER, R96_LUIGI_SO_LONGA_BOWSER),
    SOUND_R96(CHARACTER_SOUND_IMA_TIRED, R96_LUIGI_IMA_TIRED),
    SOUND_R96(CHARACTER_SOUND_STAR_LETS_A_GO, R96_LUIGI_SOUND_LETS_A_GO),
    SOUND_R96(CHARACTER_SOUND_OKEY_DOKEY, R96_LUIGI_OKEY_DOKEY),
    SOUND_R96(CHARACTER_SOUND_GAME_OVER, R96_LUIGI_GAME_OVER),
    SOUND_R96(CHARACTER_SOUND_HELLO, R96_LUIGI_HELLO),
    SOUND_R96(CHARACTER_SOUND_PRESS_START_TO_PLAY, R96_LUIGI_PRESS_START_TO_PLAY),
    SOUND_R96(CHARACTER_SOUND_THANK_YOU_PLAYING_MY_GAME, R96_LUIGI_THANK_YOU_PLAYING_MY_GAME),
    SOUND_R96(CHARACTER_SOUND_STAR_OKEY_DOKEY, R96_LUIGI_OKEY_DOKEY),
    SOUND_R96(CHARACTER_SOUND_PEACH_MARIO, R96_LUIGI_PEACH_LUIGI),
    SOUND_R96(CHARACTER_SOUND_PEACH_POWER_OF_THE_STARS, R96_LUIGI_PEACH_POWER_OF_THE_STARS),
    SOUND_R96(CHARACTER_SOUND_PEACH_THANKS_TO_YOU, R96_LUIGI_PEACH_THANKS_TO_YOU),
    SOUND_R96(CHARACTER_SOUND_PEACH_THANK_YOU_MARIO, R96_LUIGI_PEACH_THANK_YOU_LUIGI),
    SOUND_R96(CHARACTER_SOUND_PEACH_SOMETHING_SPECIAL, R96_LUIGI_PEACH_SOMETHING_SPECIAL),
    SOUND_R96(CHARACTER_SOUND_PEACH_BAKE_A_CAKE, R96_LUIGI_PEACH_BAKE_A_CAKE),
    SOUND_R96(CHARACTER_SOUND_PEACH_FOR_MARIO, R96_LUIGI_PEACH_FOR_LUIGI),
    SOUND_R96(CHARACTER_SOUND_PEACH_MARIO_2, R96_LUIGI_SOUND_PEACH_LUIGI2),
    SOUND_OMM(CHARACTER_SOUND_OMM_DEATH, OMM_SOUND_EVENT_DEATH_LUIGI),
    SOUND_OMM(CHARACTER_SOUND_OMM_DEATH_WATER, OMM_SOUND_EVENT_DEATH_LUIGI_WATER),
    SOUND_OMM(CHARACTER_SOUND_OMM_DEATH_FALL, OMM_SOUND_EVENT_DEATH_LUIGI_FALL),
    SOUND_END,
};

static const OmmCharacterSound OMM_CHARACTER_SOUNDS_WARIO_R96[] = {
    SOUND_R96(CHARACTER_SOUND_YAH, R96_WARIO_YAH),
    SOUND_R96(CHARACTER_SOUND_WAH, R96_WARIO_WAH),
    SOUND_R96(CHARACTER_SOUND_HOO, R96_WARIO_HOO),
    SOUND_R96(CHARACTER_SOUND_PUNCH_YAH, R96_WARIO_PUNCH_YAH),
    SOUND_R96(CHARACTER_SOUND_PUNCH_WAH, R96_WARIO_WAH),
    SOUND_R96(CHARACTER_SOUND_PUNCH_HOO, R96_WARIO_PUNCH_HOO),
    SOUND_R96(CHARACTER_SOUND_HOOHOO, R96_WARIO_HOOHOO),
    SOUND_R96(CHARACTER_SOUND_YAHOO, R96_WARIO_YAHOO),
    SOUND_R96(CHARACTER_SOUND_YAHOO_2, R96_WARIO_YAHOO),
    SOUND_R96(CHARACTER_SOUND_YAHOO_3, R96_WARIO_YAHOO),
    SOUND_R96(CHARACTER_SOUND_YAHOO_4, R96_WARIO_YAHOO),
    SOUND_R96(CHARACTER_SOUND_WAHA, R96_WARIO_WAHA),
    SOUND_R96(CHARACTER_SOUND_YIPPEE, R96_WARIO_YIPPEE),
    SOUND_R96(CHARACTER_SOUND_HAHA, R96_WARIO_HAHA),
    SOUND_R96(CHARACTER_SOUND_HAHA_2, R96_WARIO_HAHA),
    SOUND_R96(CHARACTER_SOUND_UH, R96_WARIO_GRUNT),
    SOUND_R96(CHARACTER_SOUND_UH2, R96_WARIO_GRUNT_2),
    SOUND_R96(CHARACTER_SOUND_UH2_2, R96_WARIO_GRUNT_2),
    SOUND_R96(CHARACTER_SOUND_HRMM, R96_WARIO_LIFT),
    SOUND_R96(CHARACTER_SOUND_THROW_WAH, R96_WARIO_THROW),
    SOUND_R96(CHARACTER_SOUND_GROUND_POUND_WAH, R96_WARIO_THROW),
    SOUND_R96(CHARACTER_SOUND_WHOA, R96_WARIO_WHOA),
    SOUND_R96(CHARACTER_SOUND_EEUH, R96_WARIO_PULL_UP),
    SOUND_R96(CHARACTER_SOUND_ATTACKED, R96_WARIO_ATTACKED),
    SOUND_R96(CHARACTER_SOUND_OOOF, R96_WARIO_OOOF),
    SOUND_R96(CHARACTER_SOUND_OOOF_2, R96_WARIO_OOOF),
    SOUND_R96(CHARACTER_SOUND_DOH, R96_WARIO_DOH),
    SOUND_R96(CHARACTER_SOUND_HERE_WE_GO, R96_WARIO_HERE_WE_GO),
    SOUND_R96(CHARACTER_SOUND_YAWNING, R96_WARIO_YAWNING),
    SOUND_R96(CHARACTER_SOUND_SNORING_1, R96_WARIO_SNORING_1),
    SOUND_R96(CHARACTER_SOUND_SNORING_2, R96_WARIO_SNORING_2),
    SOUND_R96(CHARACTER_SOUND_SNORING_3, R96_WARIO_SNORING_3),
    SOUND_R96(CHARACTER_SOUND_PANTING_1, R96_WARIO_PANTING),
    SOUND_R96(CHARACTER_SOUND_PANTING_2, R96_WARIO_PANTING),
    SOUND_R96(CHARACTER_SOUND_PANTING_3, R96_WARIO_PANTING),
    SOUND_R96(CHARACTER_SOUND_PANTING_COLD, R96_WARIO_PANTING_COLD),
    SOUND_R96(CHARACTER_SOUND_COUGHING_1, R96_WARIO_COUGHING_1),
    SOUND_R96(CHARACTER_SOUND_COUGHING_2, R96_WARIO_COUGHING_1),
    SOUND_R96(CHARACTER_SOUND_COUGHING_3, R96_WARIO_COUGHING_1),
    SOUND_R96(CHARACTER_SOUND_WAAAOOOW, R96_WARIO_FALLING),
    SOUND_R96(CHARACTER_SOUND_ON_FIRE, R96_WARIO_ON_FIRE),
    SOUND_R96(CHARACTER_SOUND_DYING, R96_WARIO_DYING),
    SOUND_R96(CHARACTER_SOUND_DROWNING, R96_WARIO_DROWNING),
    SOUND_R96(CHARACTER_SOUND_MAMA_MIA, R96_WARIO_MAMA_MIA),
    SOUND_R96(CHARACTER_SOUND_TWIRL_BOUNCE, R96_WARIO_TWIRL_BOUNCE),
    SOUND_R96(CHARACTER_SOUND_SO_LONGA_BOWSER, R96_WARIO_SO_LONGA_BOWSER),
    SOUND_R96(CHARACTER_SOUND_IMA_TIRED, R96_WARIO_IMA_TIRED),
    SOUND_R96(CHARACTER_SOUND_STAR_LETS_A_GO, R96_WARIO_SOUND_LETS_A_GO),
    SOUND_R96(CHARACTER_SOUND_OKEY_DOKEY, R96_WARIO_OKEY_DOKEY),
    SOUND_R96(CHARACTER_SOUND_GAME_OVER, R96_WARIO_GAME_OVER),
    SOUND_R96(CHARACTER_SOUND_HELLO, R96_WARIO_HELLO),
    SOUND_R96(CHARACTER_SOUND_PRESS_START_TO_PLAY, R96_WARIO_PRESS_START_TO_PLAY),
    SOUND_R96(CHARACTER_SOUND_THANK_YOU_PLAYING_MY_GAME, R96_WARIO_THANK_YOU_PLAYING_MY_GAME),
    SOUND_R96(CHARACTER_SOUND_STAR_OKEY_DOKEY, R96_WARIO_OKEY_DOKEY),
    SOUND_R96(CHARACTER_SOUND_PEACH_MARIO, R96_WARIO_PEACH_WARIO),
    SOUND_R96(CHARACTER_SOUND_PEACH_POWER_OF_THE_STARS, R96_WARIO_PEACH_POWER_OF_THE_STARS),
    SOUND_R96(CHARACTER_SOUND_PEACH_THANKS_TO_YOU, R96_WARIO_PEACH_THANKS_TO_YOU),
    SOUND_R96(CHARACTER_SOUND_PEACH_THANK_YOU_MARIO, R96_WARIO_PEACH_THANK_YOU_WARIO),
    SOUND_R96(CHARACTER_SOUND_PEACH_SOMETHING_SPECIAL, R96_WARIO_PEACH_SOMETHING_SPECIAL),
    SOUND_R96(CHARACTER_SOUND_PEACH_BAKE_A_CAKE, R96_WARIO_PEACH_BAKE_A_CAKE),
    SOUND_R96(CHARACTER_SOUND_PEACH_FOR_MARIO, R96_WARIO_PEACH_FOR_WARIO),
    SOUND_R96(CHARACTER_SOUND_PEACH_MARIO_2, R96_WARIO_SOUND_PEACH_WARIO2),
    SOUND_OMM(CHARACTER_SOUND_OMM_DEATH, OMM_SOUND_EVENT_DEATH_WARIO),
    SOUND_OMM(CHARACTER_SOUND_OMM_DEATH_WATER, OMM_SOUND_EVENT_DEATH_WARIO_WATER),
    SOUND_OMM(CHARACTER_SOUND_OMM_DEATH_FALL, OMM_SOUND_EVENT_DEATH_WARIO_FALL),
    SOUND_END,
};
#endif

static const OmmCharacterSound *OMM_CHARACTER_SOUNDS[] = {
    OMM_CHARACTER_SOUNDS_MARIO_N64,
    OMM_CHARACTER_SOUNDS_PEACH_OMM,
#if OMM_GAME_IS_R96X
    OMM_CHARACTER_SOUNDS_MARIO_R96,
    OMM_CHARACTER_SOUNDS_LUIGI_R96,
    OMM_CHARACTER_SOUNDS_WARIO_R96,
#endif
};

static const OmmCharacterSound *OMM_CHARACTER_SOUNDS_PER_PLAYER[] = {
#if OMM_GAME_IS_R96X
    OMM_CHARACTER_SOUNDS_MARIO_R96,
    OMM_CHARACTER_SOUNDS_PEACH_OMM,
    OMM_CHARACTER_SOUNDS_LUIGI_R96,
    OMM_CHARACTER_SOUNDS_WARIO_R96,
#else
    OMM_CHARACTER_SOUNDS_MARIO_N64,
    OMM_CHARACTER_SOUNDS_PEACH_OMM,
    OMM_CHARACTER_SOUNDS_MARIO_N64,
    OMM_CHARACTER_SOUNDS_MARIO_N64,
#endif
    OMM_CHARACTER_SOUNDS_YOSHI_N64,
};

static s32 omm_sound_find_character_sound(s32 type, uintptr_t id) {
    array_for_each_(const OmmCharacterSound *, sounds, OMM_CHARACTER_SOUNDS) {
        for (const OmmCharacterSound *sound = *sounds; sound->type; ++sound) {
            if ((type == sound->type) && (
                (type == SOUND_TYPE_N64 && SOUND_ID(id) == SOUND_ID(sound->id_n64)) ||
                (type == SOUND_TYPE_OMM && (s32) id == sound->id_omm) ||
                (type == SOUND_TYPE_R96 && strcmp((const char *) id, *sound->id_r96) == 0))) {
                return sound->character_sound;
            }
        }
    }
    return -1;
}

static bool omm_sound_check_cs_sound(s32 character_sound, f32 *pos, u8 priority, bool play) {
    u32 cs_index = omm_models_cs_get_current_cs_index();
    if (!play) {
        return omm_models_cs_sound_stop(cs_index, character_sound);
    }
    if (priority) {
        return omm_models_cs_sound_play_with_priority(cs_index, character_sound, pos ? pos : gGlobalSoundArgs, priority);
    }
    return omm_models_cs_sound_play(cs_index, character_sound, pos ? pos : gGlobalSoundArgs);
}

static bool omm_sound_process_character_sound(s32 type, uintptr_t id, f32 *pos, u8 priority, bool play) {
    static bool exec = false;
    if (exec) return false;

    // Find character sound
    s32 character_sound = omm_sound_find_character_sound(type, id);
    if (character_sound == -1) {
        return false;
    }

    // Cake ending sound
    if (play && character_sound == CHARACTER_SOUND_THANK_YOU_PLAYING_MY_GAME && omm_render_cake_ending_screen_play_sound()) {
        return true;
    }

    // Play (or stop) character sound
    s32 playerIndex = (gOmmGlobals->yoshiMode ? OMM_PLAYER_YOSHI : omm_player_get_selected_index_model_and_sounds());
    for (const OmmCharacterSound *sound = OMM_CHARACTER_SOUNDS_PER_PLAYER[playerIndex]; sound->type; ++sound) {
        if (sound->character_sound == character_sound) {
            exec = true;
            if (playerIndex == OMM_PLAYER_MARIO && gOmmCsVoices && omm_sound_check_cs_sound(character_sound, pos, priority, play)) {
                exec = false;
                break;
            }
            switch (sound->type) {
                case SOUND_TYPE_N64: {
                    if (!play) {
                        sound_stop(sound->id_n64, pos ? pos : gGlobalSoundArgs);
                    } else if (priority) {
                        play_sound((sound->id_n64 & ~SOUNDARGS_MASK_PRIORITY) | (priority << SOUNDARGS_SHIFT_PRIORITY), pos ? pos : gGlobalSoundArgs);
                    } else {
                        play_sound(sound->id_n64, pos ? pos : gGlobalSoundArgs);
                    }
                } break;

                case SOUND_TYPE_OMM: {
                    if (!play) {
                        omm_sound_stop(sound->id_omm);
                    } else if (priority) {
                        omm_sound_play_with_priority(sound->id_omm, pos ? pos : gGlobalSoundArgs, priority);
                    } else {
                        omm_sound_play(sound->id_omm, pos ? pos : gGlobalSoundArgs);
                    }
                } break;

                case SOUND_TYPE_R96: {
#if OMM_GAME_IS_R96X
                    if (play) {
                        dynos_sound_play(*sound->id_r96, pos ? pos : gGlobalSoundArgs);
                    } else if (dynos_sound_is_playing(*sound->id_r96)) {
                        dynos_sound_stop(1);
                    }
#endif
                } break;
            }
            exec = false;
            break;
        }
    }
    return true;
}

bool omm_sound_play_character_sound_n64(s32 id, f32 *pos) {
    return omm_sound_process_character_sound(SOUND_TYPE_N64, (uintptr_t) id, pos, SOUND_PRIO(id), true);
}

bool omm_sound_play_character_sound_omm(s32 id, f32 *pos) {
    return omm_sound_process_character_sound(SOUND_TYPE_OMM, (uintptr_t) id, pos, 0, true);
}

bool omm_sound_play_character_sound_omm_with_priority(s32 id, f32 *pos, u8 priority) {
    return omm_sound_process_character_sound(SOUND_TYPE_OMM, (uintptr_t) id, pos, priority, true);
}

bool omm_sound_play_character_sound_r96(const char *id, f32 *pos) {
    return omm_sound_process_character_sound(SOUND_TYPE_R96, (uintptr_t) id, pos, 0, true);
}

bool omm_sound_stop_character_sound_n64(s32 id, f32 *pos) {
    return omm_sound_process_character_sound(SOUND_TYPE_N64, (uintptr_t) id, pos, 0, false);
}

bool omm_sound_stop_character_sound_omm(s32 id, f32 *pos) {
    return omm_sound_process_character_sound(SOUND_TYPE_OMM, (uintptr_t) id, pos, 0, false);
}

bool omm_sound_stop_character_sound_r96(const char *id, f32 *pos) {
    return omm_sound_process_character_sound(SOUND_TYPE_R96, (uintptr_t) id, pos, 0, false);
}
