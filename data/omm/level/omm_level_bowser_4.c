#define OMM_ALL_HEADERS
#include "data/omm/omm_includes.h"
#undef OMM_ALL_HEADERS
#if OMM_GAME_IS_SM64
#include "levels/castle_grounds/header.h"

//
// Gfx data
//

static const Vtx omm_level_bowser_4_vtx[] = {
    { { { 6546, -1433, 2618 }, 0, { 4910, 248 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 6480, -3993, -2776 }, 0, { 8112, 772 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 6480, -1433, -2776 }, 0, { 8100, 232 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -6545, -1433, -2617 }, 0, { 17484, 232 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -6545, -3993, -2617 }, 0, { 17472, 772 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -6479, -3993, 2777 }, 0, { 20664, 790 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -6479, -1433, 2777 }, 0, { 20676, 248 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -2776, -1433, -6479 }, 0, { 14348, 220 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -2617, -3993, 6546 }, 0, { 23924, 800 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -2617, -1433, 6546 }, 0, { 23930, 260 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -2776, -3993, -6479 }, 0, { 14342, 762 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 2618, -1433, -6545 }, 0, { 11236, 220 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 2618, -3993, -6545 }, 0, { 11240, 762 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -2776, -1433, -6479 }, 0, { 782, 1298 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 2777, -1433, 6480 }, 0, { -1526, -4090 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 6546, -1433, 2618 }, 0, { -3092, -2484 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 6546, -1433, 2618 }, 0, { 4910, 248 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 6546, -3993, 2618 }, 0, { 4924, 788 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 6480, -3993, -2776 }, 0, { 8112, 772 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 2777, -1433, 6480 }, 0, { 1658, 260 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 2777, -3993, 6480 }, 0, { 1664, 800 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -2617, -1433, 6546 }, 0, { 23930, 260 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -2617, -3993, 6546 }, 0, { 23924, 800 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 2777, -3993, 6480 }, 0, { 27214, 800 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 2777, -1433, 6480 }, 0, { 27208, 260 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -2776, -1433, -6479 }, 0, { 782, 1298 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -6545, -1433, -2617 }, 0, { 2350, -306 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -6479, -1433, 2777 }, 0, { 2322, -2550 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -2617, -1433, 6546 }, 0, { 716, -4116 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 2777, -1433, 6480 }, 0, { -1526, -4090 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 6546, -1433, 2618 }, 0, { -3092, -2484 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 6480, -1433, -2776 }, 0, { -3066, -240 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -2776, -1433, -6479 }, 0, { 782, 1298 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 6480, -1433, -2776 }, 0, { -3066, -240 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 2618, -1433, -6545 }, 0, { -1460, 1326 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -3512, -1433, -889 }, 0, { -356, 984 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -3159, -1433, -886 }, 0, { -360, 440 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -3323, -523, -1105 }, 0, { -26, 692 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 1240, -1433, -5279 }, 0, { -356, 984 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 1593, -1433, -5276 }, 0, { -360, 440 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 1429, -523, -5496 }, 0, { -26, 692 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 1152, -1433, -5616 }, 0, { 160, 1116 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 1732, -1433, -5615 }, 0, { 158, 228 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 1344, -1433, -5811 }, 0, { 458, 824 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -3407, -1433, 3474 }, 0, { 458, 824 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -3600, -1433, 3669 }, 0, { 160, 1116 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -3322, -523, 3790 }, 0, { -26, 692 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -3511, -1433, 4006 }, 0, { -356, 984 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -3158, -1433, 4009 }, 0, { -360, 440 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -3019, -1433, 3670 }, 0, { 158, 228 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -3021, -1433, -1224 }, 0, { 158, 228 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -3021, -1433, -1224 }, 0, { 158, 228 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -3408, -1433, -1420 }, 0, { 458, 824 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -3323, -523, -1105 }, 0, { -26, 692 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -3601, -1433, -1226 }, 0, { 160, 1116 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -3512, -1433, -889 }, 0, { -356, 984 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 4200, -1433, -835 }, 0, { 160, 1116 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 4288, -1433, -498 }, 0, { -356, 984 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 4478, -523, -715 }, 0, { -26, 692 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 4392, -1433, -1030 }, 0, { 458, 824 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 4642, -1433, -495 }, 0, { -360, 440 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 4780, -1433, -834 }, 0, { 158, 228 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 2820, -1433, 2679 }, 0, { 160, 1116 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 2909, -1433, 3016 }, 0, { -356, 984 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 3098, -523, 2799 }, 0, { -26, 692 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 3262, -1433, 3019 }, 0, { -360, 440 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 3400, -1433, 2680 }, 0, { 158, 228 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 3013, -1433, 2484 }, 0, { 458, 824 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 2820, -1433, 2679 }, 0, { 160, 1116 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 3098, -523, 2799 }, 0, { -26, 692 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 3400, -1433, 2680 }, 0, { 158, 228 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -130, -1433, -4068 }, 0, { 762, 860 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -426, -1433, -3769 }, 0, { 464, 564 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 0, 307, -3583 }, 0, { 278, 990 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -290, -1433, -3250 }, 0, { -52, 700 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 253, -1433, -3245 }, 0, { -56, 1242 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 465, -1433, -3767 }, 0, { 462, 1454 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -126, -1433, 3113 }, 0, { 324, 450 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -422, -1433, 3412 }, 0, { 326, 748 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 4, 307, 3598 }, 0, { 632, 628 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -286, -1433, 3931 }, 0, { 652, 938 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 256, -1433, 3936 }, 0, { 926, 670 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 469, -1433, 3415 }, 0, { 772, 304 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 3453, -1433, -484 }, 0, { 458, 824 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 3157, -1433, -185 }, 0, { 160, 1116 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 3584, 307, 0 }, 0, { -26, 692 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 3293, -1433, 333 }, 0, { -356, 984 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 3837, -1433, 338 }, 0, { -360, 440 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 4049, -1433, -183 }, 0, { 158, 228 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -3714, -1433, -484 }, 0, { -516, 396 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -4010, -1433, -185 }, 0, { -218, 692 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -3583, 307, 0 }, 0, { 0, 266 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -3874, -1433, 333 }, 0, { 298, 556 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -3118, -1433, -183 }, 0, { -216, -198 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -3330, -1433, 338 }, 0, { 302, 14 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 1176, 784, -2837 }, 0, { 6612, 678 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 2838, 1229, -1175 }, 0, { 7634, 990 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 2838, 784, -1175 }, 0, { 7634, 678 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 1176, 784, 2838 }, 0, { 1502, 678 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 1176, 1229, 2838 }, 0, { 1502, 990 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -1175, 1229, 2838 }, 0, { 2524, 990 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 2838, 784, 1176 }, 0, { 480, 678 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -1175, 784, 2838 }, 0, { 2524, 678 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 2838, 1229, 1176 }, 0, { 480, 990 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -2837, 1229, 1176 }, 0, { 3546, 990 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -2837, 784, 1176 }, 0, { 3546, 678 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 2838, 1229, 1176 }, 0, { 8656, 990 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 2838, 784, 1176 }, 0, { 8656, 678 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 0, -306, 0 }, 0, { 1502, 552 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -1175, 784, 2838 }, 0, { 1246, 812 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -2837, 784, 1176 }, 0, { 1756, 812 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 1176, 784, -2837 }, 0, { 6612, 678 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 1176, 1229, -2837 }, 0, { 6612, 990 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 2838, 1229, -1175 }, 0, { 7634, 990 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -1175, 784, -2837 }, 0, { 5590, 678 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -1175, 1229, -2837 }, 0, { 5590, 990 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -2837, 784, -1175 }, 0, { 4568, 678 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -2837, 1229, -1175 }, 0, { 4568, 990 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -2837, 784, 1176 }, 0, { 3546, 678 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -2837, 1229, 1176 }, 0, { 3546, 990 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -2837, 784, 1176 }, 0, { 1756, 812 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -2837, 784, -1175 }, 0, { 2268, 812 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 0, -306, 0 }, 0, { 2012, 552 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -1175, 784, -2837 }, 0, { 2778, 812 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 0, -306, 0 }, 0, { 2524, 552 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 1176, 784, -2837 }, 0, { 3290, 812 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 0, -306, 0 }, 0, { 3034, 552 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 1176, 784, -2837 }, 0, { 3290, 812 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 2838, 784, -1175 }, 0, { 3800, 812 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 0, -306, 0 }, 0, { 3546, 552 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 2838, 784, 1176 }, 0, { 4312, 812 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 0, -306, 0 }, 0, { 4056, 552 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 2838, 784, 1176 }, 0, { 224, 812 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 1176, 784, 2838 }, 0, { 734, 812 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 0, -306, 0 }, 0, { 480, 552 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -1175, 784, 2838 }, 0, { 1246, 812 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 0, -306, 0 }, 0, { 990, 552 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 2838, 1229, -1175 }, 0, { 5298, -4574 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 1703, 1229, 705 }, 0, { 3210, -1892 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 2838, 1229, 1176 }, 0, { 4460, -1222 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -2837, 1229, -1175 }, 0, { -1782, -4574 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -704, 1229, -1702 }, 0, { 1064, -5326 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -1175, 1229, -2837 }, 0, { 882, -6944 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -2837, 1229, 1176 }, 0, { -2620, -1222 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -1702, 1229, -704 }, 0, { -534, -3904 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -1702, 1229, 705 }, 0, { -1036, -1892 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 705, 1229, -1702 }, 0, { 2824, -5326 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 1176, 1229, -2837 }, 0, { 3816, -6944 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -1175, 1229, 2838 }, 0, { -1138, 1146 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -704, 1229, 1703 }, 0, { -148, -470 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 1176, 1229, 2838 }, 0, { 1792, 1146 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 705, 1229, 1703 }, 0, { 1610, -470 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 1703, 1229, -704 }, 0, { 3714, -3904 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -1418, 1229, 588 }, 0, { 3034, -2076 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -587, 1229, 1419 }, 0, { 5202, -1178 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 0, 1229, 0 }, 0, { 3034, 990 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 588, 1229, 1419 }, 0, { 6100, 990 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 1419, 1229, 588 }, 0, { 5202, 3156 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -1418, 1229, -587 }, 0, { 866, -1178 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 1419, 1229, -587 }, 0, { 3034, 4054 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 588, 1229, -1418 }, 0, { 866, 3156 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -587, 1229, -1418 }, 0, { 0, 990 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -704, 1229, 1703 }, 0, { 0, 850 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 705, 1229, 1703 }, 0, { 4568, -1054 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 588, 1229, 1419 }, 0, { 3800, -1820 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -1702, 1229, 705 }, 0, { -4630, -1054 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -1418, 1229, -587 }, 0, { -5450, -5654 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -1702, 1229, -704 }, 0, { -6534, -5654 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -587, 1229, -1418 }, 0, { -3862, -9486 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -704, 1229, -1702 }, 0, { -4628, -10252 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -1418, 1229, 588 }, 0, { -3862, -1820 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 588, 1229, -1418 }, 0, { 0, -11072 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 705, 1229, -1702 }, 0, { 0, -12156 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { -587, 1229, 1419 }, 0, { 0, -234 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 1703, 1229, 705 }, 0, { 6472, -5652 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 1419, 1229, 588 }, 0, { 5388, -5652 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 1703, 1229, -704 }, 0, { 4568, -10252 }, { 0xff, 0xff, 0xff, 0xff } } },
    { { { 1419, 1229, -587 }, 0, { 3800, -9486 }, { 0xff, 0xff, 0xff, 0xff } } },
};

static const Gfx omm_level_bowser_4_tri[] = {
    gsSPVertex(omm_level_bowser_4_vtx, 16, 0),
    gsSP2Triangles(0, 1, 2, 0x0, 3, 4, 5, 0x0),
    gsSP2Triangles(3, 5, 6, 0x0, 7, 4, 3, 0x0),
    gsSP2Triangles(6, 5, 8, 0x0, 6, 8, 9, 0x0),
    gsSP2Triangles(7, 10, 4, 0x0, 11, 10, 7, 0x0),
    gsSP2Triangles(11, 12, 10, 0x0, 2, 12, 11, 0x0),
    gsSP2Triangles(2, 1, 12, 0x0, 13, 14, 15, 0x0),
    gsSPVertex(omm_level_bowser_4_vtx + 16, 16, 0),
    gsSP2Triangles(0, 1, 2, 0x0, 3, 1, 0, 0x0),
    gsSP2Triangles(3, 4, 1, 0x0, 5, 6, 7, 0x0),
    gsSP2Triangles(5, 7, 8, 0x0, 9, 10, 11, 0x0),
    gsSP2Triangles(9, 11, 12, 0x0, 9, 12, 13, 0x0),
    gsSP1Triangle(9, 14, 15, 0x0),
    gsSPVertex(omm_level_bowser_4_vtx + 32, 3, 0),
    gsSP1Triangle(0, 1, 2, 0x0),
    gsSPEndDisplayList(),

    gsSPVertex(omm_level_bowser_4_vtx + 35, 16, 0),
    gsSP2Triangles(0, 1, 2, 0x0, 3, 4, 5, 0x0),
    gsSP2Triangles(6, 3, 5, 0x0, 4, 7, 5, 0x0),
    gsSP2Triangles(7, 8, 5, 0x0, 8, 6, 5, 0x0),
    gsSP2Triangles(9, 10, 11, 0x0, 10, 12, 11, 0x0),
    gsSP2Triangles(12, 13, 11, 0x0, 14, 9, 11, 0x0),
    gsSP2Triangles(13, 14, 11, 0x0, 1, 15, 2, 0x0),
    gsSPVertex(omm_level_bowser_4_vtx + 51, 16, 0),
    gsSP2Triangles(0, 1, 2, 0x0, 1, 3, 2, 0x0),
    gsSP2Triangles(3, 4, 2, 0x0, 5, 6, 7, 0x0),
    gsSP2Triangles(8, 5, 7, 0x0, 6, 9, 7, 0x0),
    gsSP2Triangles(9, 10, 7, 0x0, 10, 8, 7, 0x0),
    gsSP2Triangles(11, 12, 13, 0x0, 12, 14, 13, 0x0),
    gsSP1Triangle(14, 15, 13, 0x0),
    gsSPVertex(omm_level_bowser_4_vtx + 67, 16, 0),
    gsSP2Triangles(0, 1, 2, 0x0, 3, 0, 2, 0x0),
    gsSP2Triangles(4, 5, 6, 0x0, 5, 7, 6, 0x0),
    gsSP2Triangles(7, 8, 6, 0x0, 8, 9, 6, 0x0),
    gsSP2Triangles(9, 4, 6, 0x0, 10, 11, 12, 0x0),
    gsSP2Triangles(11, 13, 12, 0x0, 13, 14, 12, 0x0),
    gsSP2Triangles(15, 10, 12, 0x0, 14, 15, 12, 0x0),
    gsSPVertex(omm_level_bowser_4_vtx + 83, 12, 0),
    gsSP2Triangles(0, 1, 2, 0x0, 1, 3, 2, 0x0),
    gsSP2Triangles(3, 4, 2, 0x0, 4, 5, 2, 0x0),
    gsSP2Triangles(5, 0, 2, 0x0, 6, 7, 8, 0x0),
    gsSP2Triangles(7, 9, 8, 0x0, 10, 6, 8, 0x0),
    gsSP2Triangles(11, 10, 8, 0x0, 9, 11, 8, 0x0),
    gsSPEndDisplayList(),

    gsSPVertex(omm_level_bowser_4_vtx + 95, 16, 0),
    gsSP2Triangles(0, 1, 2, 0x0, 3, 4, 5, 0x0),
    gsSP2Triangles(6, 4, 3, 0x0, 3, 5, 7, 0x0),
    gsSP2Triangles(6, 8, 4, 0x0, 7, 5, 9, 0x0),
    gsSP2Triangles(7, 9, 10, 0x0, 2, 11, 12, 0x0),
    gsSP2Triangles(2, 1, 11, 0x0, 13, 14, 15, 0x0),
    gsSPVertex(omm_level_bowser_4_vtx + 95 + 16, 16, 0),
    gsSP2Triangles(0, 1, 2, 0x0, 3, 1, 0, 0x0),
    gsSP2Triangles(3, 4, 1, 0x0, 5, 4, 3, 0x0),
    gsSP2Triangles(5, 6, 4, 0x0, 7, 6, 5, 0x0),
    gsSP2Triangles(7, 8, 6, 0x0, 9, 10, 11, 0x0),
    gsSP2Triangles(10, 12, 13, 0x0, 12, 14, 15, 0x0),
    gsSPVertex(omm_level_bowser_4_vtx + 95 + 32, 10, 0),
    gsSP2Triangles(0, 1, 2, 0x0, 1, 3, 4, 0x0),
    gsSP2Triangles(5, 6, 7, 0x0, 6, 8, 9, 0x0),
    gsSPEndDisplayList(),

    gsSPVertex(omm_level_bowser_4_vtx + 95 + 42, 16, 0),
    gsSP2Triangles(0, 1, 2, 0x0, 3, 4, 5, 0x0),
    gsSP2Triangles(6, 7, 3, 0x0, 3, 7, 4, 0x0),
    gsSP2Triangles(6, 8, 7, 0x0, 5, 4, 9, 0x0),
    gsSP2Triangles(5, 9, 10, 0x0, 11, 8, 6, 0x0),
    gsSP2Triangles(11, 12, 8, 0x0, 11, 13, 14, 0x0),
    gsSP2Triangles(11, 14, 12, 0x0, 10, 9, 15, 0x0),
    gsSP2Triangles(2, 1, 14, 0x0, 0, 15, 1, 0x0),
    gsSP2Triangles(2, 14, 13, 0x0, 10, 15, 0, 0x0),
    gsSPEndDisplayList(),

    gsSPVertex(omm_level_bowser_4_vtx + 95 + 58, 9, 0),
    gsSP2Triangles(0, 1, 2, 0x0, 1, 3, 2, 0x0),
    gsSP2Triangles(3, 4, 2, 0x0, 5, 0, 2, 0x0),
    gsSP2Triangles(6, 7, 2, 0x0, 4, 6, 2, 0x0),
    gsSP2Triangles(8, 5, 2, 0x0, 7, 8, 2, 0x0),
    gsSPEndDisplayList(),

    gsSPVertex(omm_level_bowser_4_vtx + 95 + 67, 16, 0),
    gsSP2Triangles(0, 1, 2, 0x0, 3, 4, 5, 0x0),
    gsSP2Triangles(5, 4, 6, 0x0, 5, 6, 7, 0x0),
    gsSP2Triangles(3, 8, 4, 0x0, 7, 6, 9, 0x0),
    gsSP2Triangles(7, 9, 10, 0x0, 0, 8, 3, 0x0),
    gsSP2Triangles(0, 11, 8, 0x0, 12, 13, 2, 0x0),
    gsSP2Triangles(14, 13, 12, 0x0, 12, 2, 1, 0x0),
    gsSP2Triangles(0, 2, 11, 0x0, 10, 9, 15, 0x0),
    gsSP2Triangles(14, 15, 13, 0x0, 10, 15, 14, 0x0),
    gsSPEndDisplayList(),
};

static const Gfx omm_level_bowser_4_gfx[] = {
    gsDPSetCycleType(G_CYC_2CYCLE),
    gsDPSetRenderMode(G_RM_AA_ZB_OPA_SURF2, G_RM_AA_ZB_OPA_SURF2),
    gsDPSetDepthSource(G_ZS_PIXEL),
    gsDPSetCombineLERP(TEXEL0, 0, SHADE, 0, 0, 0, 0, SHADE, 0, 0, 0, COMBINED, 0, 0, 0, COMBINED),
    gsSPClearGeometryMode(G_LIGHTING),
    gsSPTexture(0xFFFF, 0xFFFF, 0, G_TX_RENDERTILE, G_ON),
    gsDPLoadTextureBlock(OMM_TEXTURE_BOWSER_4_0, G_IM_FMT_RGBA, G_IM_SIZ_32b, 32, 32, 0, 0, 0, 0, 0, 0, 0),
    gsSPDisplayList(omm_level_bowser_4_tri + 0),
    gsDPLoadTextureBlock(OMM_TEXTURE_BOWSER_4_1, G_IM_FMT_RGBA, G_IM_SIZ_32b, 32, 32, 0, 0, 0, 0, 0, 0, 0),
    gsSPDisplayList(omm_level_bowser_4_tri + 16),
    gsSPTexture(0xFFFF, 0xFFFF, 0, G_TX_RENDERTILE, G_OFF),
    gsDPSetCycleType(G_CYC_1CYCLE),
    gsDPSetRenderMode(G_RM_AA_ZB_OPA_SURF, G_RM_NOOP2),
    gsSPClearGeometryMode(G_FOG),
    gsDPSetCombineLERP(0, 0, 0, SHADE, 0, 0, 0, SHADE, 0, 0, 0, SHADE, 0, 0, 0, SHADE),
    gsSPSetGeometryMode(G_LIGHTING),
    gsSPEndDisplayList(),

    gsDPSetCycleType(G_CYC_2CYCLE),
    gsDPSetRenderMode(G_RM_AA_ZB_OPA_SURF2, G_RM_AA_ZB_OPA_SURF2),
    gsDPSetDepthSource(G_ZS_PIXEL),
    gsDPSetCombineLERP(TEXEL0, 0, SHADE, 0, 0, 0, 0, SHADE, 0, 0, 0, COMBINED, 0, 0, 0, COMBINED),
    gsSPClearGeometryMode(G_LIGHTING),
    gsSPTexture(0xFFFF, 0xFFFF, 0, G_TX_RENDERTILE, G_ON),
    gsDPLoadTextureBlock(OMM_TEXTURE_BOWSER_4_2, G_IM_FMT_RGBA, G_IM_SIZ_32b, 32, 32, 0, 0, 0, 0, 0, 0, 0),
    gsSPDisplayList(omm_level_bowser_4_tri + 44),
    gsDPLoadTextureBlock(OMM_TEXTURE_BOWSER_4_3, G_IM_FMT_RGBA, G_IM_SIZ_32b, 32, 32, 0, 0, 0, 0, 0, 0, 0),
    gsSPDisplayList(omm_level_bowser_4_tri + 60),
    gsDPLoadTextureBlock(OMM_TEXTURE_BOWSER_4_4, G_IM_FMT_RGBA, G_IM_SIZ_32b, 32, 32, 0, 0, 0, 0, 0, 0, 0),
    gsSPDisplayList(omm_level_bowser_4_tri + 70),
    gsDPLoadTextureBlock(OMM_TEXTURE_BOWSER_4_5, G_IM_FMT_RGBA, G_IM_SIZ_32b, 32, 32, 0, 0, 0, 0, 0, 0, 0),
    gsSPDisplayList(omm_level_bowser_4_tri + 76),
    gsSPTexture(0xFFFF, 0xFFFF, 0, G_TX_RENDERTILE, G_OFF),
    gsDPSetCycleType(G_CYC_1CYCLE),
    gsDPSetRenderMode(G_RM_AA_ZB_OPA_SURF, G_RM_NOOP2),
    gsSPClearGeometryMode(G_FOG),
    gsDPSetCombineLERP(0, 0, 0, SHADE, 0, 0, 0, SHADE, 0, 0, 0, SHADE, 0, 0, 0, SHADE),
    gsSPSetGeometryMode(G_LIGHTING),
    gsSPEndDisplayList(),
};

//
// Geo layouts
//

static const GeoLayout omm_level_bowser_4_geo[] = {
    GEO_NODE_SCREEN_AREA(10, SCREEN_WIDTH / 2, SCREEN_HEIGHT / 2, SCREEN_WIDTH / 2, SCREEN_HEIGHT / 2),
    GEO_OPEN_NODE(),
        GEO_ZBUFFER(0),
        GEO_OPEN_NODE(),
            GEO_NODE_ORTHO(100),
            GEO_OPEN_NODE(),
                GEO_BACKGROUND(BACKGROUND_PURPLE_SKY, geo_skybox_main),
            GEO_CLOSE_NODE(),
        GEO_CLOSE_NODE(),
        GEO_ZBUFFER(1),
        GEO_OPEN_NODE(),
            GEO_CAMERA_FRUSTUM_WITH_FUNC(45, 100, 20000, geo_camera_fov),
            GEO_OPEN_NODE(),
                GEO_CAMERA(11, 0, 2000, 6000, 0, 0, 0, geo_camera_main),
                GEO_OPEN_NODE(),
                    GEO_DISPLAY_LIST(LAYER_OPAQUE, omm_level_bowser_4_gfx),
                    GEO_RENDER_OBJ(),
                    GEO_ASM(0, geo_envfx_main),
                GEO_CLOSE_NODE(),
            GEO_CLOSE_NODE(),
        GEO_CLOSE_NODE(),
    GEO_CLOSE_NODE(),
    GEO_END(),
};

static const GeoLayout omm_level_bowser_4_platform_geo[] = {
    GEO_CULLING_RADIUS(5000),
    GEO_OPEN_NODE(),
        GEO_DISPLAY_LIST(LAYER_OPAQUE, omm_level_bowser_4_gfx + 31),
    GEO_CLOSE_NODE(),
    GEO_END(),
};

//
// Collision
//

static const Collision omm_level_bowser_4_collision[] = {
    COL_INIT(),
    COL_VERTEX_INIT(0x8),
    COL_VERTEX(-2776, -1433, -6479),
    COL_VERTEX(-6545, -1433, -2617),
    COL_VERTEX(-6479, -1433, 2777),
    COL_VERTEX(6480, -1433, -2776),
    COL_VERTEX(2618, -1433, -6545),
    COL_VERTEX(-2617, -1433, 6546),
    COL_VERTEX(6546, -1433, 2618),
    COL_VERTEX(2777, -1433, 6480),
    COL_TRI_INIT(SURFACE_BURNING, 6),
    COL_TRI(0, 1, 2),
    COL_TRI(0, 3, 4),
    COL_TRI(0, 2, 5),
    COL_TRI(0, 6, 3),
    COL_TRI(0, 7, 6),
    COL_TRI(0, 5, 7),
    COL_TRI_STOP(),
    COL_SPECIAL_INIT(1),
    SPECIAL_OBJECT(special_bowser, -8, 307, -1418),
    COL_END(),
};

//
// Behavior
//

static void omm_level_bowser_4_update() {
    gCurrentObject->oGraphNode = geo_layout_to_graph_node(NULL, omm_level_bowser_4_platform_geo);
}

static const BehaviorScript omm_level_bowser_4_bhv[] = {
    0x00090000,
    0x11010001,
    0x2A000000, (uintptr_t) bowser_2_seg7_collision_tilting_platform,
    0x0E434E20,
    0x0E454E20,
    0x2D000000,
    0x08000000,
    0x0C000000, (uintptr_t) omm_level_bowser_4_update,
    0x0C000000, (uintptr_t) load_object_collision_model,
    0x09000000,
};

//
// Level entry
//

OMM_ROUTINE_UPDATE(omm_level_bowser_4_entry) {
    static bool sCutsceneStarted = false;
    if (omm_ssd_is_bowser_4()) {
        if (gCamera && !sCutsceneStarted) {
            gCamera->cutscene = 0;
            start_cutscene(gCamera, CUTSCENE_ENTER_BOWSER_ARENA);
            sCutsceneStarted = true;
        }
    } else {
        sCutsceneStarted = false;
    }
}

//
// Objects
//

static const LevelScript omm_level_bowser_4_objects[] = {
    OBJECT(MODEL_NONE, 0, 1307, 0, 0, 180, 0, 0x000A0000, bhvSpinAirborneCircleWarp),
    OBJECT(MODEL_NONE, 0, -922, 0, 0,  90, 0, 0x00000000, omm_level_bowser_4_bhv),
    RETURN(),
};

//
// Script
//

static const LevelScript omm_level_bowser_4[] = {
    END_AREA(),
    AREA(2, omm_level_bowser_4_geo),
        WARP_NODE(0x0A, LEVEL_CASTLE_GROUNDS, 2, 0x0A, WARP_NO_CHECKPOINT),
        WARP_NODE(0xF1, LEVEL_CASTLE_GROUNDS, 1, 0x03, WARP_NO_CHECKPOINT),
        JUMP_LINK(script_func_global_13),
        JUMP_LINK(omm_level_bowser_4_objects),
        TERRAIN(omm_level_bowser_4_collision),
        TERRAIN_TYPE(TERRAIN_STONE),
        SET_BACKGROUND_MUSIC(0x0002, SEQ_LEVEL_BOSS_KOOPA_FINAL),
    END_AREA(),
    RETURN(),
};

LEVEL_CMD_BRANCH(
    level_script_find(level_castle_grounds_entry, OMM_ARRAY_OF(LevelScript) { END_AREA() }, 1),
    level_script_find(level_castle_grounds_entry, OMM_ARRAY_OF(LevelScript) { FREE_LEVEL_POOL() }, 1),
    omm_level_bowser_4
);

#endif
